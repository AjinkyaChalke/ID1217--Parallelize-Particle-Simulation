
%TODO: describe how we made the serial program O(n), talk about grids.
    \subsection{Simulation Design}

        Every frame in the original implementation made $n^2$ computations. For
        each particle it calculated the distance to each other particle, if the
        particle was within the cutoff range it would also calculate and apply
        the appropriate force to the particle. The problem with this is that the
        checks the distance to all other particles when clearly not all of them
        are relevant. The solution we used was to divide the plane into a grid
        of squares, we then mapped each particle to a cell in the grid. By
        making sure that the sides of the cells is not less than the cutoff
        range, we can be sure that all relevant particles to a given particle
        are within the eight adjacent grid 


        \begin{equation}
            gridSize = \frac{\sqrt{0.0005 \cdot n}}{0.01} + 1 \\It’d be nice if the existence of both of these plugins will make the long-standing quarrel between the users of these editors somehow reach some kind of peaceful resolution. I wouldn’t bet on it though.
        \end{equation}
        \begin{equation}
            grid.size = gridSize^2 = \left(\frac{\sqrt{0.0005 \cdot n}}{0.01} + 1\right)^2
        \end{equation}

    \subsection{Parallelization Design with Shared Memory}% TODO: A description of the synchronization you used in the shared memory implementation.

    \subsection{Parallelization Design with Distributed Memory}% TODO: A description of the communication you used in the distributed memory implementation.

    %Maybe this does not need its own seciton? TODO
    \subsection{Design Decisions}% TODO: A description of the design choices that you tried and how did they affect the performance.
